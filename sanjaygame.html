<!doctype html>
<html lang="ta">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Click the Target â€” à®šà¯à®Ÿà¯à®Ÿà¯! (Image Game)</title>
  <style>
    :root{
      --bg:#0f1724;
      --card:#0b1220;
      --accent:#10b981;
      --muted:#94a3b8;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans",sans-serif;
      background:linear-gradient(180deg,#071025 0%, #0f1724 100%);
      color:#e6eef8;
      display:flex;
      align-items:center;
      justify-content:center;
      min-height:100vh;
      padding:20px;
    }

    .game-wrap{
      width:100%;
      max-width:420px;
      background:rgba(255,255,255,0.03);
      border-radius:14px;
      padding:16px;
      box-shadow:0 6px 30px rgba(2,6,23,0.6);
    }

    header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom:12px;
    }
    h1{font-size:18px;margin:0}
    .meta{font-size:13px;color:var(--muted)}

    .board{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      height:420px;
      border-radius:10px;
      position:relative;
      overflow:hidden;
      border:1px solid rgba(255,255,255,0.03);
      display:flex;
      align-items:center;
      justify-content:center;
    }

    /* target image */
    .target{
      position:absolute;
      width:110px;
      height:120px;
      object-fit:cover;
      transform:translate(-50%,-50%) scale(1);
      transition:transform 150ms ease, left 200ms ease, top 200ms ease;
      cursor:pointer;
      border-radius:10px;
      box-shadow:0 6px 20px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.03);
      user-select:none;
      -webkit-user-drag:none;
    }

    .controls{
      margin-top:12px;
      display:flex;
      gap:8px;
      align-items:center;
      justify-content:space-between;
    }
    .left {
      display:flex;
      gap:10px;
      align-items:center;
    }

    .btn{
      background:var(--accent);
      color:#042020;
      padding:8px 12px;
      border-radius:8px;
      font-weight:600;
      border:none;
      cursor:pointer;
      box-shadow:0 6px 18px rgba(16,185,129,0.15);
    }
    .btn.secondary{
      background:transparent;
      color:var(--muted);
      border:1px solid rgba(255,255,255,0.04);
    }

    .info{
      text-align:right;
      font-size:14px;
    }
    .big{
      font-size:20px;
      font-weight:700;
      color:#fff;
    }

    footer{margin-top:10px; font-size:12px; color:var(--muted); text-align:center}
    @media (max-width:420px){
      .board{height:360px}
      .target{width:90px;height:98px}
    }
  </style>
</head>
<body>
  <div class="game-wrap" role="application" aria-label="Click the target game">
    <header>
      <div>
        <h1>Click the Target â€” à®šà¯à®Ÿà¯à®Ÿà¯!</h1>
        <div class="meta">à®ªà¯à®³à¯à®³à®¿ à®ªà®¿à®Ÿà®¿à®•à¯à®•yth â€” 30 à®µà®¿à®©à®¾à®Ÿà®¿à®•à®³à¯</div>
      </div>
      <div class="meta">High Score: <span id="high">0</span></div>
    </header>

    <div class="board" id="board">
      <!-- user must save their uploaded image as 'target.jpg' in same folder -->
      <img src="target.jpg" alt="target" class="target" id="target">
      <div style="position:absolute;left:12px;top:12px;color:var(--muted);font-size:13px">
        Score: <span id="score" class="big">0</span>
      </div>
      <div style="position:absolute;right:12px;top:12px;color:var(--muted);font-size:13px">
        Time: <span id="time" class="big">30</span>s
      </div>
    </div>

    <div class="controls">
      <div class="left">
        <button class="btn" id="start">Start</button>
        <button class="btn secondary" id="reset">Reset</button>
      </div>
      <div class="info">
        <div>Hits: <span id="hits">0</span></div>
        <div>Misses: <span id="misses">0</span></div>
      </div>
    </div>

    <footer>à®‡à®¤à¯ à®’à®°à¯ à®µà¯†à®±à¯à®®à®©à¯‡ à®µà®¿à®³à¯ˆà®¯à®¾à®Ÿà¯à®Ÿà¯ à®®à®¾à®¤à®¿à®°à®¿. à®‰à®©à¯ à®ªà®Ÿà®®à¯ `target.jpg` à®†à®• à®šà¯‡à®®à®¿à®•à¯à®• à®®à®±à®•à¯à®•à®¾à®¤à¯‡!</footer>
  </div>

  <script>
    // Game parameters
    const DURATION = 30; // seconds
    const MOVE_INTERVAL = 900; // ms (how often target jumps)
    const board = document.getElementById('board');
    const target = document.getElementById('target');
    const startBtn = document.getElementById('start');
    const resetBtn = document.getElementById('reset');
    const scoreEl = document.getElementById('score');
    const timeEl = document.getElementById('time');
    const hitsEl = document.getElementById('hits');
    const missesEl = document.getElementById('misses');
    const highEl = document.getElementById('high');

    let score = 0, hits=0, misses=0, timeLeft = DURATION;
    let timerInterval = null, mover = null;
    let gameRunning = false;
    let highScore = Number(localStorage.getItem('clickGameHigh') || 0);
    highEl.textContent = highScore;

    // prevent image drag on mobile/desktop
    target.ondragstart = () => false;

    function randomPosition() {
      const pad = 10; // safe padding
      const boardRect = board.getBoundingClientRect();
      const tW = target.offsetWidth;
      const tH = target.offsetHeight;
      // compute random center positions
      const x = Math.random() * (boardRect.width - tW - pad*2) + pad + tW/2;
      const y = Math.random() * (boardRect.height - tH - pad*2) + pad + tH/2;
      return {left: x, top: y};
    }

    function moveTarget(animated=true){
      const pos = randomPosition();
      // position via percent relative to board's top-left
      const boardRect = board.getBoundingClientRect();
      const leftPx = pos.left;
      const topPx = pos.top;
      target.style.left = leftPx + 'px';
      target.style.top = topPx + 'px';
      if(animated){
        target.style.transform = 'translate(-50%,-50%) scale(1)';
      }
    }

    function startGame(){
      if(gameRunning) return;
      // reset counters
      score = 0; hits = 0; misses = 0;
      timeLeft = DURATION;
      scoreEl.textContent = score;
      hitsEl.textContent = hits;
      missesEl.textContent = misses;
      timeEl.textContent = timeLeft;
      gameRunning = true;
      // place target visible
      target.style.opacity = '1';
      moveTarget(false);

      // move periodically
      mover = setInterval(()=> {
        // slightly reduce scale then jump
        target.style.transform = 'translate(-50%,-50%) scale(0.92)';
        setTimeout(()=> moveTarget(true), 140);
      }, MOVE_INTERVAL);

      // countdown
      timerInterval = setInterval(()=>{
        timeLeft--;
        timeEl.textContent = timeLeft;
        if(timeLeft <= 0){
          endGame();
        }
      }, 1000);

      // hide start
      startBtn.textContent = 'Running...';
      startBtn.disabled = true;
    }

    function endGame(){
      gameRunning = false;
      clearInterval(timerInterval);
      clearInterval(mover);
      timerInterval = null; mover = null;
      startBtn.textContent = 'Start';
      startBtn.disabled = false;
      // store high score
      if(score > highScore){
        highScore = score;
        localStorage.setItem('clickGameHigh', highScore);
        highEl.textContent = highScore;
        alert('à®ªà¯à®¤à¯à®®à¯ˆà®¯à®¾à®© High Score! ğŸ‰\nScore: ' + score);
      } else {
        alert('Time up! à®‰à®©à¯ Score: ' + score);
      }
    }

    // handle click (hit)
    target.addEventListener('click', (e)=>{
      if(!gameRunning) return;
      // visual feedback
      target.style.transform = 'translate(-50%,-50%) scale(0.85)';
      setTimeout(()=> target.style.transform = 'translate(-50%,-50%) scale(1)', 120);

      score += 10;
      hits += 1;
      scoreEl.textContent = score;
      hitsEl.textContent = hits;

      // jump immediately after hit
      moveTarget(true);
    });

    // clicking board but NOT target = miss
    board.addEventListener('click', (e)=>{
      // if clicking the target element, event already counted; ensure only misses when clicked outside target
      if(e.target === target) return;
      if(!gameRunning) return;
      misses += 1;
      score = Math.max(0, score - 2); // small penalty
      scoreEl.textContent = score;
      missesEl.textContent = misses;
    });

    startBtn.addEventListener('click', startGame);

    resetBtn.addEventListener('click', ()=>{
      // stop everything and reset
      clearInterval(timerInterval);
      clearInterval(mover);
      timerInterval = mover = null;
      gameRunning = false;
      score = hits = misses = 0; timeLeft = DURATION;
      scoreEl.textContent = score;
      hitsEl.textContent = hits;
      missesEl.textContent = misses;
      timeEl.textContent = timeLeft;
      startBtn.textContent = 'Start';
      startBtn.disabled = false;
      // center the target
      target.style.left = '50%';
      target.style.top = '50%';
      target.style.transform = 'translate(-50%,-50%) scale(1)';
    });

    // initialize: center target
    window.addEventListener('load', ()=>{
      // place target at center to start
      target.style.left = '50%';
      target.style.top = '50%';
      highEl.textContent = highScore;
    });

    // Make the target respond to touch more easily (no drag)
    target.addEventListener('touchstart', (e)=> {
      e.preventDefault();
      // trigger click handler
      target.click();
    }, {passive:false});
  </script>
</body>
</html>
